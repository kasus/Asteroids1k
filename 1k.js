with(Math)R=random,B=abs,K=sqrt,Q=sin,P=cos;V=setInterval,g=O=100,w=c.width*=3,h=c.height*=4,k=[],u=l=s=z=S=A=f=r=0,X=w/2,Y=h/2,V("s&&k.push({x:X,y:Y,c:7*Q(A),d:-7*P(A),q:2})",200),q=V('N=K(z+1)/14,R()<16/(O+46/N)&&(e=4*R()|0,t=[1,R(),0,R()],D=[-3,.5>R()?3:-3,3],D[3]=D[1],k.push({x:w*t[e],y:h*t[3-e],c:D[e]*R()+N,d:D[3-e]*R()+N,q:R()*O,f:R()/14,r:1})),A+=l/14,S+=u&&5>S?.03:.03<S?-.03:0,Y-=0>Y?~h:Y>h?h:S*P(A),X+=0>X?w:X>w?~w:S*Q(A);for(i in k)with(k[i]){if(x+=c,y+=d,r+=f)g-=B(y-Y)+B(x-X)<q?K(q/10)|0:0;else for(j in k)Z=k[j],Z.r&&B(Z.y-y)+B(Z.x-x)<Z.q&&(z+=O/Z.q|0,41>Z.q?Z.x=~O:Z.q/=2,x=~O);(x>w||0>x||y>h||0>y)&&k.splice(i,1)}with(a){a.U=translate,a.T=fillText,clearRect(0,0,w,h),strokeRect(0,0,w,h),save(),U(X,Y),rotate(A-1.57),T("\u27a4",-10,11),restore();for(i in k)with(k[i])save(),U(x,y),rotate(r),fillRect(q/-2,q/-2,q,q),restore();font="2em Arial",T("%"+g+"|$"+z,10,30),1>g&&clearInterval(q)}',16),onkeydown=onkeyup=function(n){E=n.which-37,p="keyup"==n.type,1==E?u=p?0:1:E?2==E?l=p?0:1:28==E&&(s=p?0:1):l=p?0:-1}